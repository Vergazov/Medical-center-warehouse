# Рекомендации

## Рекомендации по репликации

### Безопасность:
 * Использование отдельного пользователя с минимально необходимыми правами на репликацию
 * Регулярно менять пароли репликационных аккаунтов

### Архитектура:
 * Использовать асинхронную репликацию
 * Использовать репликацию для чтения на вторичных нодах, особенно для тяжелых отчетов или аналитики - не нагружать основной сервер
 * Изебагть каскадной репликации

### Мониторинг:
 * Всегда отслеживать репликационный лаг
 * Настроить алерты при:
    - превышении допустимого лага (например 30 секунд)
    - остановке sql/io потоков репликации
    - расхождении данных
 * использовать инструменты типа prometeus + grafana

### Проверка целостности данных:
 * переодически сверять данные мжду master и replica
 * избегать прямых записей на replica - это нарушает согласованность

### Тестирование и отказоустойчивость
 * Регулярно  тестировать failover: отключить master и убедиться что replica корректно становится новыим источником записи
 * делать резеравные копии не только с master, но и с replica (убедившись что replica огласована)


## Рекомендации по резеврному копирванию

### Делать бэкапы регулярно 
 * например ежедневно
### Хранить бэкапы вне сервера БД
### Шифровать резервные копии, если они содержат чувствительные данные
### Проверять восстатвливаемость
 * регулярно тестировать восстановление из бэкапа
### Документировать процедуру восстановления
 * в критической ситуации не будет времени на подумать
### Мониторить спушность бэкапов.
 * Настроить алерты при сбое заданий
